<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 * Copyright 2022 Xyna GmbH, Germany
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-->
<Service xmlns="http://www.gip.com/xyna/xdev/xfractmod" ID="1" Label="Add Followup Test Case" TypeName="AddFollowupTestCase" TypePath="xdev.xtestfactory.infrastructure.gui" Version="1.8">
  <Meta>
    <FixedDetailOptions>highDetailsMode,showDetailAreas,openDocumentation,hScroll(272),vScroll(3952)</FixedDetailOptions>
  </Meta>
  <Operation ID="0" Label="Add Followup Test Case" Name="AddFollowupTestCase">
    <Input>
      <Data ID="357" Label="Test Case Instance Entry" ReferenceName="TestCaseInstanceEntry" ReferencePath="xdev.xtestfactory.infrastructure.gui.datatypes" VariableName="testCaseInstanceEntry">
        <Target RefID="39"/>
        <Target RefID="591"/>
      </Data>
      <Data ID="354" Label="Test Case Entry" ReferenceName="TestCaseEntry" ReferencePath="xdev.xtestfactory.infrastructure.gui.datatypes" VariableName="testCaseEntry">
        <Target RefID="58"/>
      </Data>
    </Input>
    <Output/>
    <Throws>
      <Exception Label="Failed To Determine Test Project" ReferenceName="FailedToDetermineTestProject" ReferencePath="xdev.xtestfactory.infrastructure.exceptions" VariableName="failedToDetermineTestProject"/>
      <Exception Label="XMOM Storable Access Exception" ReferenceName="XMOMStorableAccessException" ReferencePath="xnwh.persistence" VariableName="xMOMStorableAccessException"/>
    </Throws>
    <ServiceReference ID="21" Label="Persistence Services" ReferenceName="PersistenceServices.PersistenceServices" ReferencePath="xnwh.persistence">
      <Source RefID="56"/>
      <Source RefID="106"/>
      <Source RefID="403"/>
      <Source RefID="514"/>
      <Source RefID="518"/>
      <Source RefID="589"/>
      <Target RefID="56"/>
      <Target RefID="106"/>
      <Target RefID="403"/>
      <Target RefID="514"/>
      <Target RefID="518"/>
      <Target RefID="589"/>
    </ServiceReference>
    <Function ID="243" Label="Determine Current Test Project">
      <Source RefID="242"/>
      <Target RefID="242"/>
      <Target RefID="244"/>
      <Invoke Operation="DetermineCurrentTestProject" ServiceID="242"/>
      <Receive ServiceID="242">
        <Target RefID="244"/>
      </Receive>
    </Function>
    <Mappings ID="591">
      <Source RefID="357"/>
      <Target RefID="590"/>
      <Meta>
        <IsCondition>true</IsCondition>
      </Meta>
      <Input>
        <Data ID="597" Label="Test Case Instance Entry" ReferenceName="TestCaseInstanceEntry" ReferencePath="xdev.xtestfactory.infrastructure.gui.datatypes" VariableName="testCaseInstanceEntry597"/>
        <Source RefID="357">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Output>
        <Data ID="592" Label="Filter condition" ReferenceName="FilterCondition" ReferencePath="xnwh.persistence" VariableName="filterCondition592"/>
        <Target RefID="590"/>
      </Output>
      <Mapping>%1%.formula=concat("(%0%.id==\"",replaceall(replaceall(%0%.testCaseChainId,"\\\\","\\\\\\\\"),"\"","\\\\\""),"\")")</Mapping>
    </Mappings>
    <Function ID="589" Label="Query">
      <Source RefID="590"/>
      <Source RefID="593"/>
      <Source RefID="594"/>
      <Source RefID="21"/>
      <Target RefID="596"/>
      <Target RefID="21"/>
      <Meta>
        <QueryFilter>
          <Condition>%0%.id==%1%.testCaseChainId</Condition>
        </QueryFilter>
        <FixedDetailOptions>openConfiguration</FixedDetailOptions>
      </Meta>
      <Invoke Operation="query" ServiceID="21">
        <Source RefID="593">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
        <Source RefID="590">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Source RefID="594">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
      </Invoke>
      <Receive ServiceID="21">
        <Target RefID="596"/>
      </Receive>
    </Function>
    <Mappings ID="622" Label="Mapping">
      <Source RefID="596"/>
      <Target RefID="631"/>
      <Meta>
        <FixedDetailOptions>FillMode,openConfiguration,FlatMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="621" IsList="true" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain621"/>
        <Source RefID="596"/>
      </Input>
      <Output>
        <Data ID="623" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain623"/>
        <Target RefID="631"/>
      </Output>
      <Mapping>%1%=%0%["0"]</Mapping>
    </Mappings>
    <Mappings ID="58">
      <Source RefID="354"/>
      <Target RefID="57"/>
      <Meta>
        <IsCondition>true</IsCondition>
      </Meta>
      <Input>
        <Data ID="353" Label="Test Case Entry" ReferenceName="TestCaseEntry" ReferencePath="xdev.xtestfactory.infrastructure.gui.datatypes" VariableName="testCaseEntry353"/>
        <Source RefID="354">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Output>
        <Data ID="59" Label="Filter condition" ReferenceName="FilterCondition" ReferencePath="xnwh.persistence" VariableName="filterCondition59"/>
        <Target RefID="57"/>
      </Output>
      <Mapping>%1%.formula=concat("(%0%.iD==\"",replaceall(replaceall(%0%.iD,"\\\\","\\\\\\\\"),"\"","\\\\\""),"\")")</Mapping>
    </Mappings>
    <Function ID="56" Label="Query">
      <Source RefID="21"/>
      <Source RefID="57"/>
      <Source RefID="222"/>
      <Source RefID="223"/>
      <Target RefID="21"/>
      <Target RefID="63"/>
      <Meta>
        <QueryFilter>
          <Condition>%0%.iD==%1%.iD</Condition>
        </QueryFilter>
      </Meta>
      <Invoke Operation="query" ServiceID="21">
        <Source RefID="222">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
        <Source RefID="57">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Source RefID="223">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
      </Invoke>
      <Receive ServiceID="21">
        <Target RefID="63"/>
      </Receive>
    </Function>
    <Mappings ID="70" Label="Mapping">
      <Source RefID="63"/>
      <Target RefID="258"/>
      <Meta>
        <FixedDetailOptions>FillMode,FlatMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="69" IsList="true" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase69"/>
        <Source RefID="63"/>
      </Input>
      <Output>
        <Data ID="257" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase257"/>
        <Target RefID="258"/>
      </Output>
      <Mapping>%1%=%0%["0"]</Mapping>
    </Mappings>
    <Function ID="647" Label="Get User Name">
      <Source RefID="490"/>
      <Target RefID="490"/>
      <Target RefID="648"/>
      <Invoke Operation="getUserName" ServiceID="490"/>
      <Receive ServiceID="490">
        <Target RefID="648"/>
      </Receive>
    </Function>
    <Mappings ID="254" Label="Copy Test Case">
      <Source RefID="258"/>
      <Source RefID="631"/>
      <Source RefID="648"/>
      <Target RefID="625"/>
      <Meta>
        <FixedDetailOptions>openConfiguration,FillMode,FlatMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="251" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase251"/>
        <Source RefID="258">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Input>
        <Data ID="260" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain260"/>
        <Source RefID="631">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Input>
        <Data ID="649" Label="User Name" ReferenceName="Text" ReferencePath="base" VariableName="text649"/>
        <Source RefID="648"/>
      </Input>
      <Output>
        <Data ID="71" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase71"/>
        <Target RefID="625"/>
      </Output>
      <Mapping>%3%.associatedTestCaseChain=%1%.name</Mapping>
      <Mapping>%3%.author.name=%2%.text</Mapping>
      <Mapping>%3%.coveredFeatures=%0%.coveredFeatures</Mapping>
      <Mapping>%3%.deleted=%0%.deleted</Mapping>
      <Mapping>%3%.description=%0%.description</Mapping>
      <Mapping>%3%.duration=%0%.duration</Mapping>
      <Mapping>%3%.isTemplate=%0%.isTemplate</Mapping>
      <Mapping>%3%.massLoad=%0%.massLoad</Mapping>
      <Mapping>%3%.massProcessReference=%0%.massProcessReference</Mapping>
      <Mapping>%3%.massRate=%0%.massRate</Mapping>
      <Mapping>%3%.name=concat(%1%.name,"_",%0%.name)</Mapping>
      <Mapping>%3%.priority=%0%.priority</Mapping>
      <Mapping>%3%.responsibleUser=%0%.responsibleUser</Mapping>
      <Mapping>%3%.taskCount=%0%.taskCount</Mapping>
      <Mapping>%3%.testDataSelectorInstances=%0%.testDataSelectorInstances</Mapping>
      <Mapping>%3%.testDateSelector=%0%.testDateSelector</Mapping>
      <Mapping>%3%.testProcessReference=%0%.testProcessReference</Mapping>
      <Mapping>%3%.testSeriesReference=%0%.testSeriesReference</Mapping>
      <Mapping>%3%.testType=%0%.testType</Mapping>
    </Mappings>
    <Mappings ID="269" Label="Remove &quot;Template&quot; from name">
      <Source RefID="625"/>
      <Target RefID="266"/>
      <Meta>
        <FixedDetailOptions>FillMode,openConfiguration,VisualMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="267" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase267"/>
        <Source RefID="625">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Output>
        <Data ID="268" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase268"/>
        <Target RefID="266"/>
      </Output>
      <Mapping>%1%=%0%</Mapping>
      <Mapping>%1%.name=replaceall(%0%.name,"Template ","")</Mapping>
    </Mappings>
    <Mappings ID="641" Label="Remove &quot;template&quot; from name">
      <Source RefID="266"/>
      <Target RefID="640"/>
      <Meta>
        <FixedDetailOptions>openConfiguration,FillMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="638" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase638"/>
        <Source RefID="266">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Output>
        <Data ID="639" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase639"/>
        <Target RefID="640"/>
      </Output>
      <Mapping>%1%=%0%</Mapping>
      <Mapping>%1%.name=replaceall(%0%.name,"template ","")</Mapping>
    </Mappings>
    <Function ID="476" Label="Check For Name Collision">
      <Source RefID="490"/>
      <Source RefID="631"/>
      <Source RefID="640"/>
      <Target RefID="490"/>
      <Target RefID="626"/>
      <Invoke Operation="checkForNameCollision" ServiceID="490">
        <Source RefID="640">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Source RefID="631">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Invoke>
      <Receive ServiceID="490">
        <Target RefID="626"/>
      </Receive>
    </Function>
    <Mappings ID="567" Label="Mapping">
      <Source RefID="244"/>
      <Source RefID="626"/>
      <Target RefID="568"/>
      <Meta>
        <FixedDetailOptions>openConfiguration,FlatMode</FixedDetailOptions>
      </Meta>
      <Input>
        <Data ID="564" Label="Test Project" ReferenceName="TestProject" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testProject564"/>
        <Source RefID="244"/>
      </Input>
      <Input>
        <Data ID="565" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase565"/>
        <Source RefID="626">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Output>
        <Data ID="566" Label="Test Project" ReferenceName="TestProject" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testProject566"/>
        <Target RefID="568"/>
      </Output>
      <Mapping>%2%~=%0%</Mapping>
      <Mapping>%2%.testCase~=append(%0%.testCase,%1%)</Mapping>
    </Mappings>
    <Function ID="403" Label="Store">
      <Source RefID="21"/>
      <Source RefID="563"/>
      <Source RefID="568"/>
      <Target RefID="21"/>
      <Invoke Operation="store" ServiceID="21">
        <Source RefID="568">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Source RefID="563">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
      </Invoke>
      <Receive ServiceID="21"/>
    </Function>
    <Choice ID="535" TypeName="BaseChoiceTypeFormula" TypePath="server">
      <Source RefID="626"/>
      <Input>
        <Data ID="525" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase525"/>
        <Source RefID="626">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Case ID="515" Label="true" Premise="%0%.testProcessReference==null">
        <Function ID="511" Label="Query Test Case By Name in Current Test Project">
          <Source RefID="505"/>
          <Source RefID="626"/>
          <Target RefID="505"/>
          <Target RefID="526"/>
          <Invoke Operation="QueryTestCaseByNameInCurrentTestProject" ServiceID="505">
            <Source RefID="626">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Invoke>
          <Receive ServiceID="505">
            <Target RefID="526"/>
          </Receive>
        </Function>
        <Function ID="512" Label="Determine Workspace">
          <Source RefID="506"/>
          <Target RefID="506"/>
          <Target RefID="527"/>
          <Invoke Operation="determineWorkspace" ServiceID="506"/>
          <Receive ServiceID="506">
            <Target RefID="527"/>
          </Receive>
        </Function>
        <Function ID="513" Label="Build Empty Order Input Source">
          <Source RefID="506"/>
          <Source RefID="527"/>
          <Source RefID="526"/>
          <Target RefID="506"/>
          <Target RefID="528"/>
          <Meta>
            <Documentation>This is the "new test case" case. In this case we create an empty Order Input Source to make sure that it always exist and the user is not confused because creating an OIS is not what he is interested in.</Documentation>
          </Meta>
          <Invoke Operation="buildEmptyOrderInputSource" ServiceID="506">
            <Source RefID="526">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
            <Source RefID="527"/>
          </Invoke>
          <Receive ServiceID="506">
            <Target RefID="528"/>
          </Receive>
        </Function>
        <Function ID="514" Label="Store">
          <Source RefID="21"/>
          <Source RefID="528"/>
          <Source RefID="542"/>
          <Target RefID="21"/>
          <Invoke Operation="store" ServiceID="21">
            <Source RefID="528">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
            <Source RefID="542">
              <Meta>
                <LinkType>Constant</LinkType>
              </Meta>
            </Source>
          </Invoke>
          <Receive ServiceID="21"/>
        </Function>
        <Assign ID="545"/>
      </Case>
      <Case ID="524" Label="false">
        <Mappings ID="530" Label="Mapping">
          <Source RefID="539"/>
          <Target RefID="529"/>
          <Input>
            <Data ID="546" Label="Xyna Property String" ReferenceName="XynaPropertyString" ReferencePath="xfmg.xods.configuration" VariableName="xynaPropertyString"/>
            <Source RefID="539">
              <Meta>
                <LinkType>Constant</LinkType>
              </Meta>
            </Source>
          </Input>
          <Output>
            <Data ID="547" Label="Text" ReferenceName="Text" ReferencePath="base" VariableName="text"/>
            <Target RefID="529"/>
          </Output>
          <Mapping>%1%.text=%0%.value</Mapping>
        </Mappings>
        <Choice ID="531" TypeName="BaseChoiceTypeFormula" TypePath="server">
          <Source RefID="266"/>
          <Source RefID="626"/>
          <Source RefID="529"/>
          <Input>
            <Data ID="521" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase521"/>
            <Source RefID="266">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="522" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase522"/>
            <Source RefID="626">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="523" Label="Text" ReferenceName="Text" ReferencePath="base" VariableName="text523"/>
            <Source RefID="529">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Case ID="519" Label="true" Premise="%0%.testProcessReference!=concat(%2%.text,%1%.name)">
            <Mappings ID="532" Label="Get Workspacename for Test Project">
              <Source RefID="568"/>
              <Target RefID="533"/>
              <Input>
                <Data ID="516" Label="Test Project" ReferenceName="TestProject" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testProject516"/>
                <Source RefID="568">
                  <Meta>
                    <LinkType>UserConnected</LinkType>
                  </Meta>
                </Source>
              </Input>
              <Output>
                <Data ID="548" Label="Workspacename" ReferenceName="Workspacename" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="workspacename"/>
                <Target RefID="533"/>
              </Output>
              <Mapping>%1%.workspacename=%0%.workspaceReference</Mapping>
            </Mappings>
            <Function ID="517" Label="Clone Referenced Order Input Source">
              <Source RefID="506"/>
              <Source RefID="533"/>
              <Source RefID="540"/>
              <Source RefID="626"/>
              <Target RefID="506"/>
              <Target RefID="534"/>
              <Meta>
                <Documentation>This step is required for "clone" usecases. In these cases the OIS name does not match the test case name. In migration cases the above condition will evaluate to false because test case name and OIS name are in sync or the test process reference is empty.</Documentation>
              </Meta>
              <Invoke Operation="cloneReferencedOrderInputSource" ServiceID="506">
                <Source RefID="626">
                  <Meta>
                    <LinkType>UserConnected</LinkType>
                  </Meta>
                </Source>
                <Source RefID="533"/>
                <Source RefID="533"/>
                <Source RefID="540">
                  <Meta>
                    <LinkType>Constant</LinkType>
                  </Meta>
                </Source>
              </Invoke>
              <Receive ServiceID="506">
                <Target RefID="534"/>
              </Receive>
            </Function>
            <Function ID="518" Label="Store">
              <Source RefID="21"/>
              <Source RefID="534"/>
              <Source RefID="541"/>
              <Target RefID="21"/>
              <Invoke Operation="store" ServiceID="21">
                <Source RefID="534">
                  <Meta>
                    <LinkType>UserConnected</LinkType>
                  </Meta>
                </Source>
                <Source RefID="541">
                  <Meta>
                    <LinkType>Constant</LinkType>
                  </Meta>
                </Source>
              </Invoke>
              <Receive ServiceID="21"/>
            </Function>
            <Assign ID="549"/>
          </Case>
          <Case ID="520" Label="false">
            <Assign ID="550"/>
          </Case>
        </Choice>
        <Assign ID="551"/>
      </Case>
    </Choice>
    <Mappings ID="39" Label="Mapping">
      <Source RefID="357"/>
      <Source RefID="626"/>
      <Source RefID="631"/>
      <Target RefID="627"/>
      <Meta>
        <FixedHeight>32</FixedHeight>
        <FixedDetailOptions>FillMode,VisualMode,openConfiguration</FixedDetailOptions>
        <FixedWidth>382</FixedWidth>
      </Meta>
      <Input>
        <Data ID="74" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase74"/>
        <Source RefID="626">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Input>
        <Data ID="226" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain226"/>
        <Source RefID="631">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Input>
        <Data ID="358" Label="Test Case Instance Entry" ReferenceName="TestCaseInstanceEntry" ReferencePath="xdev.xtestfactory.infrastructure.gui.datatypes" VariableName="testCaseInstanceEntry358"/>
        <Source RefID="357"/>
      </Input>
      <Output>
        <Data ID="174" Label="Test Case Instance" ReferenceName="TestCaseInstance" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="testCaseInstance"/>
        <Target RefID="627"/>
      </Output>
      <Mapping>%3%.author=%0%.author.name</Mapping>
      <Mapping>%3%.status="Planned"</Mapping>
      <Mapping>%3%.testCase=%0%</Mapping>
      <Mapping>%3%.testCase.associatedTestCaseChain=%1%.name</Mapping>
      <Mapping>%3%.testCaseChainName=%1%.name</Mapping>
      <Mapping>%3%.testObject.id=%2%.testObjectId</Mapping>
    </Mappings>
    <Choice ID="446" TypeName="BaseChoiceTypeFormula" TypePath="server">
      <Source RefID="631"/>
      <Target RefID="630"/>
      <Input>
        <Data ID="465" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain465"/>
        <Source RefID="631">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
      </Input>
      <Case ID="444" Label="true" Premise="%0%.numberTestCases==&quot;0&quot;">
        <Mappings ID="458" Label="Mapping">
          <Source RefID="457"/>
          <Source RefID="627"/>
          <Source RefID="631"/>
          <Target RefID="628"/>
          <Meta>
            <FixedDetailOptions>FlatMode</FixedDetailOptions>
          </Meta>
          <Input>
            <Data ID="453" Label="Test Case Instance" ReferenceName="TestCaseInstance" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="testCaseInstance453"/>
            <Source RefID="627"/>
          </Input>
          <Input>
            <Data ID="454" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain454"/>
            <Source RefID="631">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="455" Label="Now" ReferenceName="Now" ReferencePath="base.date" VariableName="now455"/>
            <Source RefID="457">
              <Meta>
                <LinkType>Constant</LinkType>
              </Meta>
            </Source>
          </Input>
          <Output>
            <Data ID="456" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain456"/>
            <Target RefID="628"/>
          </Output>
          <Mapping>%3%=%1%</Mapping>
          <Mapping>%3%.lastChange=%2%.asString()</Mapping>
          <Mapping>%3%.numberTestCases="1"</Mapping>
          <Mapping>%3%.testCaseInstance=append(%3%.testCaseInstance,%0%)</Mapping>
        </Mappings>
        <Assign ID="461">
          <Source RefID="628"/>
          <Target RefID="630"/>
          <Copy>
            <Source RefID="628"/>
            <Target RefID="630"/>
          </Copy>
        </Assign>
      </Case>
      <Case ID="445" Label="false">
        <Mappings ID="451" Label="Mapping">
          <Source RefID="450"/>
          <Source RefID="627"/>
          <Source RefID="631"/>
          <Target RefID="629"/>
          <Input>
            <Data ID="447" Label="Test Case Instance" ReferenceName="TestCaseInstance" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="testCaseInstance447"/>
            <Source RefID="627"/>
          </Input>
          <Input>
            <Data ID="466" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain"/>
            <Source RefID="631">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="448" Label="Now" ReferenceName="Now" ReferencePath="base.date" VariableName="now448"/>
            <Source RefID="450">
              <Meta>
                <LinkType>Constant</LinkType>
              </Meta>
            </Source>
          </Input>
          <Output>
            <Data ID="449" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain449"/>
            <Target RefID="629"/>
          </Output>
          <Mapping>%3%=%1%</Mapping>
          <Mapping>%3%.lastChange=%2%.asString()</Mapping>
          <Mapping>%3%.numberTestCases=%3%.numberTestCases+"1"</Mapping>
          <Mapping>%3%.testCaseInstance=append(%3%.testCaseInstance,%0%)</Mapping>
        </Mappings>
        <Assign ID="462">
          <Source RefID="629"/>
          <Target RefID="630"/>
          <Copy>
            <Source RefID="629"/>
            <Target RefID="630"/>
          </Copy>
        </Assign>
      </Case>
    </Choice>
    <Function ID="106" Label="Store">
      <Source RefID="21"/>
      <Source RefID="225"/>
      <Source RefID="630"/>
      <Target RefID="21"/>
      <Meta>
        <Documentation>Speichern der Test Case Chain.</Documentation>
      </Meta>
      <Invoke Operation="store" ServiceID="21">
        <Source RefID="630">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Source RefID="225">
          <Meta>
            <LinkType>Constant</LinkType>
          </Meta>
        </Source>
      </Invoke>
      <Receive ServiceID="21"/>
    </Function>
    <Data ID="57" Label="Filter condition" ReferenceName="FilterCondition" ReferencePath="xnwh.persistence" VariableName="filterCondition57">
      <Source RefID="58"/>
      <Target RefID="56"/>
    </Data>
    <Data ID="63" IsList="true" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase">
      <Source RefID="56"/>
      <Target RefID="70"/>
    </Data>
    <Data ID="222" Label="Selection mask" ReferenceName="SelectionMask" ReferencePath="xnwh.persistence" VariableName="selectionMask">
      <Target RefID="56"/>
      <Data ID="229" Label="Root type" VariableName="rootType">
        <Meta>
          <Type>String</Type>
        </Meta>
        <Value>xdev.xtestfactory.infrastructure.storables.TestCase</Value>
      </Data>
    </Data>
    <Data ID="223" Label="Query parameter" ReferenceName="QueryParameter" ReferencePath="xnwh.persistence" VariableName="queryParameter">
      <Target RefID="56"/>
      <Data ID="230" Label="Max objects" VariableName="maxObjects">
        <Meta>
          <Type>int</Type>
        </Meta>
        <Value>-1</Value>
      </Data>
      <Data ID="231" Label="Query history" VariableName="queryHistory">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="232" IsList="true" Label="Sort criterion" ReferenceName="SortCriterion" ReferencePath="xnwh.persistence" VariableName="sortCriterion"/>
    </Data>
    <Data ID="225" Label="Store parameter" ReferenceName="StoreParameter" ReferencePath="xnwh.persistence" VariableName="const_StoreParameter">
      <Target RefID="106"/>
      <Data ID="235" Label="Historize previous object" VariableName="historizePreviousObject">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
      <Data ID="236" Label="Keep meta field data" VariableName="keepMetaFieldData">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
      <Data ID="237" Label="Force recursive store" VariableName="forceRecursiveStore">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
    </Data>
    <ServiceReference ID="242" Label="Determine Current Test Project" ReferenceName="DetermineCurrentTestProject" ReferencePath="xdev.xtestfactory.infrastructure.util">
      <Source RefID="243"/>
      <Target RefID="243"/>
    </ServiceReference>
    <Data ID="244" Label="Test Project" ReferenceName="TestProject" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testProject38">
      <Source RefID="243"/>
      <Target RefID="567"/>
    </Data>
    <Data ID="258" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase258">
      <Source RefID="70"/>
      <Target RefID="254"/>
    </Data>
    <Data ID="266" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase265">
      <Source RefID="269"/>
      <Target RefID="531"/>
      <Target RefID="641"/>
    </Data>
    <Data ID="450" Label="Now" ReferenceName="Now" ReferencePath="base.date" VariableName="now450">
      <Target RefID="451"/>
      <Data ID="467" Label="Date" VariableName="date">
        <Meta>
          <Type>String</Type>
        </Meta>
      </Data>
      <Data ID="468" Label="Format" ReferenceName="YyyyMMDdTHHMmSs" ReferencePath="base.date.format" VariableName="format"/>
    </Data>
    <Data ID="457" Label="Now" ReferenceName="Now" ReferencePath="base.date" VariableName="now457">
      <Target RefID="458"/>
      <Data ID="469" Label="Date" VariableName="date">
        <Meta>
          <Type>String</Type>
        </Meta>
      </Data>
      <Data ID="470" Label="Format" ReferenceName="YyyyMMDdTHHMmSs" ReferencePath="base.date.format" VariableName="format"/>
    </Data>
    <ServiceReference ID="490" Label="Test Case Chain" ReferenceName="TestCaseChain.TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.gui.service">
      <Source RefID="476"/>
      <Source RefID="647"/>
      <Target RefID="476"/>
      <Target RefID="647"/>
    </ServiceReference>
    <ServiceReference ID="505" Label="Query Test Case By Name in Current Test Project" ReferenceName="QueryTestCaseByNameInCurrentTestProject" ReferencePath="xdev.xtestfactory.infrastructure.util">
      <Source RefID="511"/>
      <Target RefID="511"/>
    </ServiceReference>
    <ServiceReference ID="506" Label="TestFactoryIntegration" ReferenceName="TestFactoryIntegration.TestFactoryIntegration" ReferencePath="xdev.xtestfactory.infrastructure.services">
      <Source RefID="512"/>
      <Source RefID="513"/>
      <Source RefID="517"/>
      <Target RefID="512"/>
      <Target RefID="513"/>
      <Target RefID="517"/>
    </ServiceReference>
    <Data ID="526" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase163">
      <Source RefID="511"/>
      <Target RefID="513"/>
    </Data>
    <Data ID="527" Label="Workspacename" ReferenceName="Workspacename" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="workspacename527">
      <Source RefID="512"/>
      <Target RefID="513"/>
    </Data>
    <Data ID="528" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase528">
      <Source RefID="513"/>
      <Target RefID="514"/>
    </Data>
    <Data ID="529" Label="Text" ReferenceName="Text" ReferencePath="base" VariableName="text529">
      <Source RefID="530"/>
      <Target RefID="531"/>
    </Data>
    <Data ID="533" Label="Workspacename" ReferenceName="Workspacename" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="workspacename533">
      <Source RefID="532"/>
      <Target RefID="517"/>
    </Data>
    <Data ID="534" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase67">
      <Source RefID="517"/>
      <Target RefID="518"/>
    </Data>
    <Data ID="539" Label="Xyna Property String" ReferenceName="XynaPropertyString" ReferencePath="xfmg.xods.configuration" VariableName="const_XynaPropertyString">
      <Target RefID="530"/>
      <Data ID="552" Label="Value" VariableName="value">
        <Meta>
          <Type>String</Type>
        </Meta>
        <Value><![CDATA[Order Input Source for Test Case ]]></Value>
      </Data>
      <Data ID="553" Label="Property Name" VariableName="propertyName">
        <Meta>
          <Type>String</Type>
        </Meta>
        <Value>xdev.xtestfactory.infrastructure.testcase.orderinputsource.prefix</Value>
      </Data>
      <Data ID="554" Label="Behaviour if Property not Set" ReferenceName="UseValue" ReferencePath="xfmg.xods.configuration.parameter" VariableName="behaviourIfPropertyNotSet"/>
    </Data>
    <Data ID="540" Label="Test Project Creation Parameter" ReferenceName="TestProjectCreationParameter" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="const_TestProjectCreationParameter">
      <Target RefID="517"/>
      <Data ID="555" Label="create workspace and import infrastructure" VariableName="createWorkspaceAndImportInfrastructure">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="556" Label="rename order input source" VariableName="renameOrderInputSource">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
    </Data>
    <Data ID="541" Label="Store parameter" ReferenceName="StoreParameter" ReferencePath="xnwh.persistence" VariableName="storeParameter">
      <Target RefID="518"/>
      <Data ID="557" Label="Historize previous object" VariableName="historizePreviousObject">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="558" Label="Keep meta field data" VariableName="keepMetaFieldData">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="559" Label="Force recursive store" VariableName="forceRecursiveStore">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
    </Data>
    <Data ID="542" Label="Store parameter" ReferenceName="StoreParameter" ReferencePath="xnwh.persistence" VariableName="storeParameter542">
      <Target RefID="514"/>
      <Data ID="560" Label="Historize previous object" VariableName="historizePreviousObject">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="561" Label="Keep meta field data" VariableName="keepMetaFieldData">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="562" Label="Force recursive store" VariableName="forceRecursiveStore">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
    </Data>
    <Data ID="563" Label="Store parameter" ReferenceName="StoreParameter" ReferencePath="xnwh.persistence" VariableName="storeParameter404">
      <Target RefID="403"/>
      <Data ID="571" Label="Historize previous object" VariableName="historizePreviousObject">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
      <Data ID="572" Label="Keep meta field data" VariableName="keepMetaFieldData">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
      <Data ID="573" Label="Force recursive store" VariableName="forceRecursiveStore">
        <Meta>
          <Type>boolean</Type>
        </Meta>
      </Data>
    </Data>
    <Data ID="568" Label="Test Project" ReferenceName="TestProject" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testProject568">
      <Source RefID="567"/>
      <Target RefID="403"/>
      <Target RefID="532"/>
    </Data>
    <Data ID="590" Label="Filter condition" ReferenceName="FilterCondition" ReferencePath="xnwh.persistence" VariableName="filterCondition">
      <Source RefID="591"/>
      <Target RefID="589"/>
    </Data>
    <Data ID="593" Label="Selection mask" ReferenceName="SelectionMask" ReferencePath="xnwh.persistence" VariableName="const_SelectionMask">
      <Target RefID="589"/>
      <Data ID="634" Label="Root type" VariableName="rootType">
        <Meta>
          <Type>String</Type>
        </Meta>
        <Value>xdev.xtestfactory.infrastructure.storables.TestCaseChain</Value>
      </Data>
    </Data>
    <Data ID="594" Label="Query parameter" ReferenceName="QueryParameter" ReferencePath="xnwh.persistence" VariableName="const_QueryParameter">
      <Target RefID="589"/>
      <Data ID="635" Label="Max objects" VariableName="maxObjects">
        <Meta>
          <Type>int</Type>
        </Meta>
        <Value>-1</Value>
      </Data>
      <Data ID="636" Label="Query history" VariableName="queryHistory">
        <Meta>
          <Type>boolean</Type>
        </Meta>
        <Value>false</Value>
      </Data>
      <Data ID="637" IsList="true" Label="Sort criterion" ReferenceName="SortCriterion" ReferencePath="xnwh.persistence" VariableName="sortCriterion"/>
    </Data>
    <Data ID="596" IsList="true" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain596">
      <Source RefID="589"/>
      <Target RefID="622"/>
    </Data>
    <Data ID="625" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase625">
      <Source RefID="254"/>
      <Target RefID="269"/>
    </Data>
    <Data ID="626" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase626">
      <Source RefID="476"/>
      <Target RefID="567"/>
      <Target RefID="535"/>
      <Target RefID="511"/>
      <Target RefID="531"/>
      <Target RefID="517"/>
      <Target RefID="39"/>
    </Data>
    <Data ID="627" Label="Test Case Instance" ReferenceName="TestCaseInstance" ReferencePath="xdev.xtestfactory.infrastructure.datatypes" VariableName="testCaseInstance627">
      <Source RefID="39"/>
      <Target RefID="458"/>
      <Target RefID="451"/>
    </Data>
    <Data ID="628" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain628">
      <Source RefID="458"/>
      <Target RefID="461"/>
    </Data>
    <Data ID="629" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain629">
      <Source RefID="451"/>
      <Target RefID="462"/>
    </Data>
    <Data ID="630" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain630">
      <Source RefID="446"/>
      <Source RefID="461"/>
      <Source RefID="462"/>
      <Target RefID="106"/>
    </Data>
    <Data ID="631" Label="Test Case Chain" ReferenceName="TestCaseChain" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCaseChain631">
      <Source RefID="622"/>
      <Target RefID="254"/>
      <Target RefID="476"/>
      <Target RefID="39"/>
      <Target RefID="446"/>
      <Target RefID="458"/>
      <Target RefID="451"/>
    </Data>
    <Data ID="640" Label="Test Case" ReferenceName="TestCase" ReferencePath="xdev.xtestfactory.infrastructure.storables" VariableName="testCase640">
      <Source RefID="641"/>
      <Target RefID="476"/>
    </Data>
    <Data ID="648" Label="Text" ReferenceName="Text" ReferencePath="base" VariableName="text648">
      <Source RefID="647"/>
      <Target RefID="254"/>
    </Data>
    <Assign ID="2"/>
  </Operation>
</Service>
