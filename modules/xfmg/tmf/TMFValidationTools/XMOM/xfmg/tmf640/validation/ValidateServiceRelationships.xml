<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 * Copyright 2025 Xyna GmbH, Germany
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
--><Service xmlns="http://www.gip.com/xyna/xdev/xfractmod" Label="Validate Service Relationships" TypeName="ValidateServiceRelationships" TypePath="xfmg.tmf640.validation" Version="1.8">
  <Operation ID="0" IsStatic="false" Label="Validate Service Relationships" Name="ValidateServiceRelationships">
    <Input>
      <Data ID="666" Label="Service" ReferenceName="Service" ReferencePath="tmf640.datamodel" VariableName="service666"/>
      <Data ID="7" Label="ServiceSpecification" ReferenceName="ServiceSpecification" ReferencePath="tmf633.datamodel" VariableName="serviceSpecification7"/>
    </Input>
    <Output/>
    <Throws>
      <Exception Label="CharacteristicValueDoesNotMatchRegularExpression" ReferenceName="CharacteristicValueDoesNotMatchRegularExpression" ReferencePath="xfmg.tmf633" VariableName="characteristicValueDoesNotMatchRegularExpression3294"/>
      <Exception Label="CharacteristicValueNotInEnumeration" ReferenceName="CharacteristicValueNotInEnumeration" ReferencePath="xfmg.tmf640" VariableName="characteristicValueNotInEnumeration3295"/>
      <Exception Label="DuplicateCharacteristicFound" ReferenceName="DuplicateCharacteristicFound" ReferencePath="xfmg.tmf640" VariableName="duplicateCharacteristicFound3296"/>
      <Exception Label="ExceededAllowedValueRange" ReferenceName="ExceededAllowedValueRange" ReferencePath="xfmg.tmf640" VariableName="exceededAllowedValueRange3297"/>
      <Exception Label="InvalidCharacteristicsCardinality" ReferenceName="InvalidCharacteristicsCardinality" ReferencePath="xfmg.tmf640" VariableName="invalidCharacteristicsCardinality3298"/>
      <Exception Label="Service Characteristic not found" ReferenceName="ServiceCharacteristicNotFound" ReferencePath="xfmg.tmf640" VariableName="serviceCharacteristicNotFound3299"/>
      <Exception Label="UnexpectedCharacteristicsType" ReferenceName="UnexpectedCharacteristicsType" ReferencePath="xfmg.tmf640" VariableName="unexpectedCharacteristicsType3300"/>
    </Throws>
    <ServiceReference ID="792" Label="Get Service Relationship" ReferenceName="GetServiceRelationship" ReferencePath="xfmg.tmf640.validation">
      <Source RefID="791"/>
      <Target RefID="791"/>
    </ServiceReference>
    <ServiceReference ID="1004" Label="Validate Characteristics" ReferenceName="ValidateCharacteristics" ReferencePath="xfmg.tmf640.validation">
      <Source RefID="1003"/>
      <Target RefID="1003"/>
    </ServiceReference>
    <Mappings ID="107" Label="Mapping">
      <Input>
        <Data ID="523" Label="ServiceSpecification" ReferenceName="ServiceSpecification" ReferencePath="tmf633.datamodel" VariableName="serviceSpecification523">
          <Source RefID="107"/>
        </Data>
        <Source RefID="7"/>
      </Input>
      <Input>
        <Data ID="687" Label="Service" ReferenceName="Service" ReferencePath="tmf640.datamodel" VariableName="service687">
          <Source RefID="107"/>
        </Data>
        <Source RefID="666"/>
      </Input>
      <Output>
        <Data ID="540" IsList="true" Label="ServiceSpecRelationship" ReferenceName="ServiceSpecRelationship" ReferencePath="tmf633.datamodel" VariableName="serviceSpecRelationship540">
          <Source RefID="107"/>
        </Data>
        <Target RefID="541"/>
      </Output>
      <Output>
        <Data ID="704" IsList="true" Label="ServiceRelationship" ReferenceName="ServiceRelationship" ReferencePath="tmf640.datamodel" VariableName="serviceRelationship704">
          <Source RefID="107"/>
        </Data>
        <Target RefID="705"/>
      </Output>
      <Mapping>%2%=%0%.serviceSpecRelationship</Mapping>
      <Mapping>%3%=%1%.serviceRelationship</Mapping>
    </Mappings>
    <Foreach ID="626">
      <Source RefID="541"/>
      <InputList RefID="541">
        <Data ID="627" Label="ServiceSpecRelationship" ReferenceName="ServiceSpecRelationship" ReferencePath="tmf633.datamodel" VariableName="serviceSpecRelationship627"/>
      </InputList>
      <Choice ID="594" TypeName="BaseChoiceTypeFormula" TypePath="server">
        <Source RefID="627"/>
        <Input>
          <Data ID="609" Label="ServiceSpecRelationship" ReferenceName="ServiceSpecRelationship" ReferencePath="tmf633.datamodel" VariableName="serviceSpecRelationship609">
            <Source RefID="594"/>
          </Data>
          <Source RefID="627"/>
        </Input>
        <Case ID="595" Label="true" Premise="%0%!=null">
          <Function ID="791" Label="Get Service Relationship">
            <Source RefID="792"/>
            <Source RefID="705"/>
            <Source RefID="627"/>
            <Target RefID="792"/>
            <Target RefID="794"/>
            <Invoke Operation="GetServiceRelationship" ServiceID="792">
              <Source RefID="705"/>
              <Source RefID="627">
                <Meta>
                  <LinkType>UserConnected</LinkType>
                </Meta>
              </Source>
            </Invoke>
            <Receive ServiceID="792">
              <Target RefID="794"/>
            </Receive>
          </Function>
          <Choice ID="859" TypeName="BaseChoiceTypeFormula" TypePath="server">
            <Source RefID="794"/>
            <Input>
              <Data ID="922" Label="ServiceRelationship" ReferenceName="ServiceRelationship" ReferencePath="tmf640.datamodel" VariableName="serviceRelationship922">
                <Source RefID="859"/>
              </Data>
              <Source RefID="794">
                <Meta>
                  <LinkType>UserConnected</LinkType>
                </Meta>
              </Source>
            </Input>
            <Case ID="860" Label="true" Premise="%0%!=null">
              <Mappings ID="1156" Label="Mapping">
                <Input>
                  <Data ID="1307" Label="ServiceRelationship" ReferenceName="ServiceRelationship" ReferencePath="tmf640.datamodel" VariableName="serviceRelationship1307">
                    <Source RefID="1156"/>
                  </Data>
                  <Source RefID="794">
                    <Meta>
                      <LinkType>UserConnected</LinkType>
                    </Meta>
                  </Source>
                </Input>
                <Input>
                  <Data ID="1458" Label="ServiceSpecRelationship" ReferenceName="ServiceSpecRelationship" ReferencePath="tmf633.datamodel" VariableName="serviceSpecRelationship1458">
                    <Source RefID="1156"/>
                  </Data>
                  <Source RefID="627">
                    <Meta>
                      <LinkType>UserConnected</LinkType>
                    </Meta>
                  </Source>
                </Input>
                <Output>
                  <Data ID="1609" IsList="true" Label="Characteristic" ReferenceName="Characteristic" ReferencePath="tmf640.datamodel" VariableName="characteristic1609">
                    <Source RefID="1156"/>
                  </Data>
                  <Target RefID="1610"/>
                </Output>
                <Output>
                  <Data ID="1761" IsList="true" Label="CharacteristicSpecification" ReferenceName="CharacteristicSpecification" ReferencePath="tmf633.datamodel" VariableName="characteristicSpecification1761">
                    <Source RefID="1156"/>
                  </Data>
                  <Target RefID="1762"/>
                </Output>
                <Mapping>%2%=%0%.serviceRelationshipCharacteristic</Mapping>
                <Mapping>%3%=%1%.serviceSpecRelationshipCharacteristic</Mapping>
              </Mappings>
              <Function ID="1003" Label="Validate Characteristics">
                <Source RefID="1004"/>
                <Source RefID="1610"/>
                <Source RefID="1762"/>
                <Target RefID="1004"/>
                <Invoke Operation="ValidateCharacteristics" ServiceID="1004">
                  <Source RefID="1610"/>
                  <Source RefID="1762"/>
                </Invoke>
                <Receive ServiceID="1004"/>
              </Function>
              <Assign ID="863"/>
            </Case>
            <Case ID="861" Label="false">
              <Assign ID="865"/>
            </Case>
          </Choice>
          <Assign ID="598"/>
          <Data ID="794" Label="ServiceRelationship" ReferenceName="ServiceRelationship" ReferencePath="tmf640.datamodel" VariableName="serviceRelationship794">
            <Source RefID="791"/>
          </Data>
        </Case>
        <Case ID="596" Label="false">
          <Assign ID="600"/>
        </Case>
      </Choice>
      <Data ID="1610" IsList="true" Label="Characteristic" ReferenceName="Characteristic" ReferencePath="tmf640.datamodel" VariableName="characteristic1610">
        <Source RefID="1156"/>
      </Data>
      <Data ID="1762" IsList="true" Label="CharacteristicSpecification" ReferenceName="CharacteristicSpecification" ReferencePath="tmf633.datamodel" VariableName="characteristicSpecification1762">
        <Source RefID="1156"/>
      </Data>
    </Foreach>
    <Data ID="541" IsList="true" Label="ServiceSpecRelationship" ReferenceName="ServiceSpecRelationship" ReferencePath="tmf633.datamodel" VariableName="serviceSpecRelationship541">
      <Source RefID="107"/>
    </Data>
    <Data ID="705" IsList="true" Label="ServiceRelationship" ReferenceName="ServiceRelationship" ReferencePath="tmf640.datamodel" VariableName="serviceRelationship705">
      <Source RefID="107"/>
    </Data>
    <Assign ID="1"/>
  </Operation>
</Service>
