<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 * Copyright 2025 Xyna GmbH, Germany
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
--><DataType xmlns="http://www.gip.com/xyna/xdev/xfractmod" BaseTypeName="OASBaseType" BaseTypePath="xmcp.oas.datatype" IsAbstract="false" Label="ConstraintContext" TypeName="ConstraintContext" TypePath="internalized.tmf633.datamodel" Version="1.8">
  <Meta>
    <IsServiceGroupOnly>false</IsServiceGroupOnly>
    <Documentation/>
  </Meta>
  <Data Label="type" VariableName="type">
    <Meta>
      <Type>String</Type>
      <Documentation>The type of the context. An example would be HTTPRequest with possible values POST, GET, etc.
        </Documentation>
    </Meta>
  </Data>
  <Data IsList="true" Label="value" VariableName="value">
    <Meta>
      <Type>String</Type>
      <Documentation>The values of this context that the constraint is restricted to. If the _current_ (provided at runtime) context value for this type is not included here, the constraint will not be evaluated. If the array is empty, there is not any restriction (the same as if the whole ConstraintContext is not provided at all).
        </Documentation>
    </Meta>
  </Data>
  <Service Label="ConstraintContext" TypeName="ConstraintContext">
    <Operation IsStatic="false" Label="Validate" Name="validate">
      <Input/>
      <Output>
        <Data ID="1" Label="OAS Validation Result" ReferenceName="OASValidationResult" ReferencePath="xmcp.oas.datatype" VariableName="oASValidationResult1"/>
      </Output>
      <SourceCode>
        <CodeSnippet Type="Java">
xmcp.oas.datatype.OASValidationResult result = new xmcp.oas.datatype.OASValidationResult();
result.setErrorMessages(new ArrayList&lt;String&gt;());
// validate ConstraintContext.type of type String
try {
    var validator_type = new com.gip.xyna.openapi.StringTypeValidator();
    validator_type.setName("type");
    validator_type.setValue(getType());
    result.getErrorMessages().addAll(validator_type.checkValid());
} catch (Exception e) {
    result.getErrorMessages().add("Error: could not validate ConstraintContext.type");
}

// validate ConstraintContext.value of type String
try {
    var validator_value = new com.gip.xyna.openapi.PrimitiveListTypeValidator&lt;String,com.gip.xyna.openapi.StringTypeValidator&gt;(com.gip.xyna.openapi.StringTypeValidator::new);
    validator_value.setName("value");
    validator_value.setValue(getValue());
    result.getErrorMessages().addAll(validator_value.checkValid());
} catch (Exception e) {
    result.getErrorMessages().add("Error: could not validate ConstraintContext.value");
}

return result.getResult();
                </CodeSnippet>
      </SourceCode>
    </Operation>
  </Service>
</DataType>
