<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 * Copyright 2025 Xyna GmbH, Germany
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
--><Service xmlns="http://www.gip.com/xyna/xdev/xfractmod" Label="Oas Endpoint Details - Create Service Panels" TypeName="OasEndpointDetailsCreateServicePanels" TypePath="xmcp.oas.fman" Version="1.8">
  <Operation ID="0" IsStatic="false" Label="Oas Endpoint Details - Create Service Panels" Name="OasEndpointDetailsCreateServicePanels">
    <Input>
      <Data ID="110" Label="Oas Api Datatype Info" ReferenceName="OasApiDatatypeInfo" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasApiDatatypeInfo110"/>
      <Data ID="2" Label="Oas Endpoint Service" ReferenceName="OasEndpointService" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasEndpointService2"/>
    </Input>
    <Output>
      <Data ID="7" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition7"/>
    </Output>
    <ServiceReference ID="1588" Label="Create Endpoint  Details Entry Children" ReferenceName="CreateEndpointDetailsEntryChildren" ReferencePath="xmcp.oas.fman">
      <Source RefID="1587"/>
      <Target RefID="1587"/>
    </ServiceReference>
    <ServiceReference ID="739" Label="RuntimeContextService" ReferenceName="RuntimeContextService.RuntimeContextService" ReferencePath="xfmg.xfctrl.appmgmt">
      <Source RefID="738"/>
      <Target RefID="738"/>
    </ServiceReference>
    <Function ID="738" Label="get Own RuntimeContext">
      <Source RefID="739"/>
      <Target RefID="739"/>
      <Target RefID="741"/>
      <Invoke Operation="getOwnRuntimeContext" ServiceID="739"/>
      <Receive ServiceID="739">
        <Target RefID="741"/>
      </Receive>
    </Function>
    <Mappings ID="16" Label="Mapping">
      <Input>
        <Data ID="35" Label="Oas Endpoint Service" ReferenceName="OasEndpointService" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasEndpointService35">
          <Source RefID="16"/>
        </Data>
        <Source RefID="2"/>
      </Input>
      <Output>
        <Data ID="25" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition25">
          <Source RefID="16"/>
        </Data>
        <Target RefID="26"/>
      </Output>
      <Mapping>%1%.label=%0%.serviceName</Mapping>
      <Mapping>%1%.triggerChangeChildren.eventId=concat("oas_endpoint_update_impl", %0%.serviceName)</Mapping>
    </Mappings>
    <Choice ID="147" TypeName="BaseChoiceTypeFormula" TypePath="server">
      <Source RefID="110"/>
      <Target RefID="942"/>
      <Input>
        <Data ID="162" Label="Oas Api Datatype Info" ReferenceName="OasApiDatatypeInfo" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasApiDatatypeInfo162">
          <Source RefID="147"/>
        </Data>
        <Source RefID="110"/>
      </Input>
      <Case ID="148" Label="true" Premise="%0%.implementationRtcIsWorkspace">
        <Mappings ID="1224" Label="Mapping">
          <Input>
            <Data ID="1384" Label="Runtime Context" ReferenceName="RuntimeContext" ReferencePath="xprc.xpce" VariableName="runtimeContext1384">
              <Source RefID="1224"/>
            </Data>
            <Source RefID="741"/>
          </Input>
          <Input>
            <Data ID="1529" Label="Oas Endpoint Service" ReferenceName="OasEndpointService" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasEndpointService1529">
              <Source RefID="1224"/>
            </Data>
            <Source RefID="2"/>
          </Input>
          <Output>
            <Data ID="1249" Label="Definition Workflow" ReferenceName="DefinitionWorkflow" ReferencePath="xmcp.forms.datatypes" VariableName="definitionWorkflow1249">
              <Source RefID="1224"/>
            </Data>
            <Target RefID="1250"/>
          </Output>
          <Mapping>%2%.fQN="xmcp.oas.fman.OasEndpointDetailsWithDatatypeModifyDefinition"</Mapping>
          <Mapping>%2%.rTC=%0%</Mapping>
          <Mapping>%2%.dataPath=concat("%2%,%1%.", %1%.index)</Mapping>
        </Mappings>
        <Mappings ID="292" Label="Mapping">
          <Input>
            <Data ID="1275" Label="Definition Workflow" ReferenceName="DefinitionWorkflow" ReferencePath="xmcp.forms.datatypes" VariableName="definitionWorkflow1275">
              <Source RefID="292"/>
            </Data>
            <Source RefID="1250"/>
          </Input>
          <Output>
            <Data ID="301" Label="Open Details Button Definition" ReferenceName="OpenDetailsButtonDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="openDetailsButtonDefinition301">
              <Source RefID="292"/>
            </Data>
            <Target RefID="302"/>
          </Output>
          <Mapping>%1%.label="Manage"</Mapping>
          <Mapping>%1%.detailsDefinitionReference#cast("xmcp.forms.datatypes.DefinitionWorkflow")=%0%</Mapping>
        </Mappings>
        <Mappings ID="187" Label="Mapping">
          <Input>
            <Data ID="235" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition235">
              <Source RefID="187"/>
            </Data>
            <Source RefID="26">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="311" Label="Open Details Button Definition" ReferenceName="OpenDetailsButtonDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="openDetailsButtonDefinition311">
              <Source RefID="187"/>
            </Data>
            <Source RefID="302"/>
          </Input>
          <Output>
            <Data ID="224" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition224">
              <Source RefID="187"/>
            </Data>
            <Target RefID="225"/>
          </Output>
          <Mapping>%2%~=%0%</Mapping>
          <Mapping>%2%.header.rightArea.children["0"]#cast("xmcp.forms.datatypes.OpenDetailsButtonDefinition")=%1%</Mapping>
        </Mappings>
        <Assign ID="151">
          <Source RefID="225"/>
          <Target RefID="942"/>
          <Copy>
            <Source RefID="225"/>
            <Target RefID="942"/>
          </Copy>
        </Assign>
      </Case>
      <Case ID="149" Label="false">
        <Mappings ID="196" Label="Mapping">
          <Input>
            <Data ID="205" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition205">
              <Source RefID="196"/>
            </Data>
            <Source RefID="26"/>
          </Input>
          <Output>
            <Data ID="214" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition214">
              <Source RefID="196"/>
            </Data>
            <Target RefID="215"/>
          </Output>
          <Mapping>%1%~=%0%</Mapping>
        </Mappings>
        <Assign ID="153">
          <Source RefID="215"/>
          <Target RefID="942"/>
          <Copy>
            <Source RefID="215"/>
            <Target RefID="942"/>
          </Copy>
        </Assign>
      </Case>
    </Choice>
    <Choice ID="392" TypeName="BaseChoiceTypeFormula" TypePath="server">
      <Source RefID="2"/>
      <Target RefID="1187"/>
      <Input>
        <Data ID="407" Label="Oas Endpoint Service" ReferenceName="OasEndpointService" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasEndpointService407">
          <Source RefID="392"/>
        </Data>
        <Source RefID="2"/>
      </Input>
      <Case ID="393" Label="true" Premise="%0%.implementationWorkflowFqn!=null&amp;&amp;length(%0%.implementationWorkflowFqn)&gt;&quot;0&quot;">
        <Function ID="1587" Label="Create Endpoint  Details Entry Children">
          <Source RefID="1588"/>
          <Source RefID="2"/>
          <Target RefID="1588"/>
          <Target RefID="1590"/>
          <Invoke Operation="CreateEndpointDetailsEntryChildren" ServiceID="1588">
            <Source RefID="2"/>
          </Invoke>
          <Receive ServiceID="1588">
            <Target RefID="1590"/>
          </Receive>
        </Function>
        <Mappings ID="476" Label="Mapping">
          <Input>
            <Data ID="477" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition477"/>
            <Source RefID="942">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="1663" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition1663">
              <Source RefID="476"/>
            </Data>
            <Source RefID="1590">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Input>
            <Data ID="1856" Label="Oas Endpoint Service" ReferenceName="OasEndpointService" ReferencePath="xmcp.oas.fman.datatypes" VariableName="oasEndpointService1856">
              <Source RefID="476"/>
            </Data>
            <Source RefID="2"/>
          </Input>
          <Output>
            <Data ID="478" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition478"/>
            <Target RefID="479"/>
          </Output>
          <Mapping>%3%~=%0%</Mapping>
          <Mapping>%3%.children["0"]#cast("xmcp.forms.datatypes.FormPanelDefinition")=%1%</Mapping>
        </Mappings>
        <Assign ID="396">
          <Source RefID="479"/>
          <Target RefID="1187"/>
          <Copy>
            <Source RefID="479"/>
            <Target RefID="1187"/>
          </Copy>
        </Assign>
        <Data ID="1590" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition1590">
          <Source RefID="1587"/>
        </Data>
      </Case>
      <Case ID="394" Label="false">
        <Mappings ID="456" Label="Mapping">
          <Input>
            <Data ID="457" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition457"/>
            <Source RefID="942">
              <Meta>
                <LinkType>UserConnected</LinkType>
              </Meta>
            </Source>
          </Input>
          <Output>
            <Data ID="458" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition458"/>
            <Target RefID="459"/>
          </Output>
          <Mapping>%1%~=%0%</Mapping>
        </Mappings>
        <Assign ID="398">
          <Source RefID="459"/>
          <Target RefID="1187"/>
          <Copy>
            <Source RefID="459"/>
            <Target RefID="1187"/>
          </Copy>
        </Assign>
      </Case>
    </Choice>
    <Data ID="26" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition26">
      <Source RefID="16"/>
    </Data>
    <Data ID="215" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition215">
      <Source RefID="196"/>
    </Data>
    <Data ID="225" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition225">
      <Source RefID="187"/>
    </Data>
    <Data ID="302" Label="Open Details Button Definition" ReferenceName="OpenDetailsButtonDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="openDetailsButtonDefinition302">
      <Source RefID="292"/>
    </Data>
    <Data ID="459" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition459"/>
    <Data ID="479" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition479"/>
    <Data ID="741" Label="Runtime Context" ReferenceName="RuntimeContext" ReferencePath="xprc.xpce" VariableName="runtimeContext741">
      <Source RefID="738"/>
    </Data>
    <Data ID="942" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition942">
      <Source RefID="147"/>
    </Data>
    <Data ID="1187" Label="Form Panel Definition" ReferenceName="FormPanelDefinition" ReferencePath="xmcp.forms.datatypes" VariableName="formPanelDefinition1187">
      <Source RefID="392"/>
    </Data>
    <Data ID="1250" Label="Definition Workflow" ReferenceName="DefinitionWorkflow" ReferencePath="xmcp.forms.datatypes" VariableName="definitionWorkflow1250">
      <Source RefID="1224"/>
    </Data>
    <Assign ID="1">
      <Source RefID="1187"/>
      <Target RefID="7"/>
      <Copy>
        <Source RefID="1187">
          <Meta>
            <LinkType>UserConnected</LinkType>
          </Meta>
        </Source>
        <Target RefID="7"/>
      </Copy>
    </Assign>
  </Operation>
</Service>
