{
  "meta":
  {
    "name": "importAuditTest",
	"description": "Import a audit and check the result.",
	"created": "07.04.2020",
	"updated": "07.04.2020"
  },
  "operations":
  [
	{
	  "operation": "upload",
	  "file": "Order_29305228_QueryServicesForCustomerTableInfoWithAdditionalFilter.xml",
	  "relativeToThis": true,
	  "fileIdVar": "!fileId!"
	},
	{
	  "operation": "call",
	  "requestType": "GET",
	  "url": "/importedAudits/!fileId!"
	},
	{
      "operation": "read",
      "pathInResponse": "orderId",
      "targetVariable": "!orderId!"
    },
    {
      "operation": "assert",
      "constraint": "equals",
      "variable": "!orderId!",
      "value": "\"Imported 29305228\""
    },
    {
      "operation": "assert",
      "constraint": "listLength",
      "path": "dataflow/$list",
      "expectedValue": "36"
    },
    {
      "operation": "assert",
      "constraint": "listLength",
      "path": "info/$list",
      "expectedValue": "20"
    },
    {
      "operation": "assert",
      "constraint": "listLength",
      "path": "rollback/$list",
      "expectedValue": "0"
    },
    {
      "operation": "read",
      "pathInResponse": "rootRtc/name",
      "targetVariable": "!workspaceName!",
      "unquoteResult": true
    },
    {
      "operation": "assert",
      "constraint": "equals",
      "variable": "!workspaceName!",
      "value": "Project GUI"
    },
	{
      "operation": "read",
	  "targetVariable": "!workflowStatus!",
	  "pathInResponse": "info/$list[id=wf]/status",
	  "unquoteResult": true
	},
	{
	  "operation": "assert",
	  "constraint": "equals",
	  "variable": "!workflowStatus!",
	  "value": "Finished"
	}
  ]
}
