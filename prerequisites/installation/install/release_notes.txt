Xyna Black Edition Prerequisites
================================

Die Black Edition hat einige Voraussetzungen, die erfuellt sein muessen.
Erst danach kann die Black Edition installiert werden:

- Sun Java Development Kit
- Ant
- Geronimo / Tomcat
- Syslog:
    + local0 nach /var/log/xyna/xyna.log
    + local2 nach /var/log/xyna/tomcat.log
- Logrotation fuer die oben genannten Log-Dateien
- unpriviligierter User
- Installationsverzeichnis und Properties-Datei mit
  passenden Rechten fuer den unpriviligierten User


___________________
Version: 2.2.0.0

* Unterstuetzung fuer N-Tier-Architektur: Application Server und Xyna
  Factory konnen auf getrennten Rechner existieren
* Neuer Kommandozeilenparameter '-d', mit die Remote Deployer Packages
  fuer Tomcat und Geronimo installiert werden koennen
* Neue Properties 'tomcat.ipAddress', 'geronimo.ipAddress' und
  'geronimo.jmx.port' die angeben, auf welchem entfernten Rechner die
  Application Server laufen
* Funktion 'f_deploy_war_into_tomcat' und 'f_deploy_war_into_geronimo'
  kann, wenn die neuen Properties zur Verfuegung stehen, auf einen
  entfernten Rechner deployen.
  Als Fallback wird lokal deployed.

___________________
Version: 2.1.2.0

* bugz 15205: Neue Funktion 'f_add_syslog_facility'

___________________
Version: 2.1.1.0

* bugz 15022: Kann besser mit fehlenden Gruppen umgehen.
* bugz 15727: .bashrc fuer den Benutzer 'root' korrekt auffinden.

___________________
Version: 2.1.0.0

* Neuer Kommandozeilenparameter '-l', mit dem die ulimits eingestellt
  werden koennen.

___________________
Version: 2.0.0.0

* Apache Ant 1.9.2
* Apache Geronimo 3.0.1
* Apache Tomcat 7.0.42
* Sun Java 7 Update 25

___________________
Version: 1.0.0.0

* Properties werden jetzt in /etc/opt/xyna angelegt.
* Apache Geronimo 2.2.1
* Apache Tomcat 6.0.37
* Sun Java 6 Update 45

___________________
Version: 0.9.5.0

* bugz 15476: Log-Dateien gehoeren dem Xyna-User.
* bugz 15528: SLES 11 ohne Service Pack wird besser unterstuetzt.
* bugz 15389: Installationsordner kann jetzt ein Link sein.

___________________
Version: 0.9.4.0

* Unterstuetzung fuer Red Hat Enterprise Linux Server 6.3

___________________
Version: 0.9.3.0

* Beim Belegen einer Property mit ihrem Defaultwert kann der Wert interaktiv angepasst werden.
* Speicherort fuer den Syslog ist konfigurierbar.

___________________
Version: 0.9.2.0

* bugz 14412: SNMP-Demon wird fuer alle Betriebssysteme installiert.
              Konfiguration einer SNMP-Community fuer jede Instanz der Black Edition.
              Namensschema der Communities ist 'xyna_001', 'xyna_002', ...
* NTP- und SSH-Konfiguration wird fuer alle Betriebssysteme durchgefuehrt.
* SNMP-Demon wird in der Firewall immer freigeschaltet (falls Komponenten nacheinander installiert werden)

___________________
Version: 0.9.1.1

* Neues favicon.ico (GIP-Logo) fuer den Tomcat.

___________________
Version: 0.9.1.0

* Java 6 Update 33 fuer Solaris.
* /opt/xyna/xyna_<instanznummer>/log wird nach /var/log/xyna gelinkt.

___________________
Version: 0.9.0.0

* Neue Komponenten: 
** NTP und Timezone-Konfiguration
** Oracle Instant Client
** SNMPD

* Neue Aufteilung des Liefergegenstandes in plattformspezifische Pakete (SLES,RHEL,SOLARIS,..) 
  und zusaetzliche AddOn-Pakete (Oracle InstantClient, Geronimo) 

* Es wird standardmaessig (-a) "Tomcat" und nicht "Geronimo" installiert

* Fuer SLES wird (wie fuer andere Linux-Distributionen) Ant 1.7.1 installiert

* Aktualisierung der Java-Version 1.6 auf Patchlevel 33 fuer Linux

* Standard-Verzeichnisse geaendert:
**  Installations-Verzeichnis:    /opt/xyna/xyna_<Instanznummer>
**  Log-Verzeichnis:              /var/log/xyna  
**  Es gibt nun ein "bin" und ggf. ein "lib"-Verzeichnis im Installations-Verzeichnis.
    in welche Skripte und Bibliotheken abgelegt werden.

___________________
Version: 0.8.2.0

* Die Gruppe des unpriviligierten Benutzers kann jetzt ueber das Property 'xyna.group' konfiguriert werden.
* Syslog-Facilities fuer RedHat angepasst. (local0 - local7 werden nicht mehr nach /var/log/messages geschrieben)

___________________
Version: 0.8.1.0

* uninstall_prerequisites.sh auf Solaris funktioniert nun korrekt.
* Benutzer, der das Skript ausfuehrt, wird korrekt erkannt.

___________________
Version: 0.8.0.0

* Unterstuetzung fuer Red Hat Enterprise Linux Server.
* Neuer Kommandozeilenparameter '-w', der die Firewall fuer die Application Server freischaltet.

___________________
Version: 0.7.8.0

* bugz 13513: Logrotation fuer SLES auf Mitternacht verschieben.

___________________
Version: 0.7.7.0

* bugz 13353: $TMP_FILE immer loeschen

___________________
Version: 0.7.6.0

* Neue Funktion 'backup_dir'. Sicherung eines Verzeichnisses, falls genuegend freier Speicher exisiert.
* bugz 12945: Fuer SLES 11 wird der Syslog so eingestellt, dass die Facilities
              local0 - local7 nicht mehr nach /var/log/messages und /var/log/localmessages
              geschrieben werden.

___________________
Version: 0.7.5.0

* Status von Geronimo und Tomcat als Exit-Code abfragbar

___________________
Version: 0.7.4.1

* Versionsnummern beim Aktualisieren von /etc/xyna/environment/$HOSTNAME.component.properties erhalten

___________________
Version: 0.7.4.0

* Passwort des Xyna-Users aus den Properties wird beim Anlegen gesetzt
* Neue Gruppe 'gipgroup', in die alle unprivilegierten Benutzer aufgenommen werden
* SSL-Zertifikate sind nur fuer Mitglieder der Gruppe 'gipgroup' zugreifbar

___________________
Version: 0.7.3.0

* SSL-Zertifikat wird nach ${installation.folder}/.ssl gepeichert.
  Dabei werden drei Dateien erstellt: xyna_ssl.key, xyna_ssl.crt, xyna_ssl.pfx

___________________
Version: 0.7.2.0

* Selbst erstelltes SSL-Zertifikat im Geronimo ersetzt das mitgelieferte Zertifikat
* Fuer Zertifikate wird der FQDN verwendet, falls moeglich. Fallback ist der Hostname

___________________
Version: 0.7.1.0

* Fuer Geronimo und Tomcat die PID in einer Datei festhalten
* func_lib.sh: Neue Funktionen 'f_dos2unix', 'f_compare_versions', 'debug_msg'

___________________
Version: 0.7.0.0

* bugz 11607: Geronimo und Tomcat in den Startskripten (/etc/init.d/) als unprivilegierten
              Benutzer ausfuehren
* Unterstuetzung fuer Debian 6: JAVA_HOME fuer Geronimo wird korrekt gesetzt
* Cache-Version erhoeht
* Cache in Verzeichnis /etc/xyna/var verschoben

___________________
Version: 0.6.4.0

* bugz 10895: func_lib.sh verwendet einen Cache, der in /etc/xyna/environment abgelegt wird

___________________
Version: 0.6.3.0

* bugz 11004: Java 6 Update 23 fuer SLES und Solaris
* bugz 11003: Ausgaben aus func_lib.sh koennen durch VERBOSE="false" unterdrueckt werden
* bugz 10895: func_lib.sh verwendet einen Cache, der in /tmp abgelegt wird

___________________
Version: 0.6.2.1

* bugz 10558: Links in /etc/init.d werden korrekt angelegt.

___________________
Version: 0.6.2.0

* bugz 10421: Hilfe erweitert. Default fuer die Instanznummer ist 1.
              Verwendung des Schluesselwortes 'NEW' ist nur dann erforderlich
              wenn Instanzen mit der Nummer 2 oder hoeher angelegt werden sollen.
* bugz 10422: Aktualisierungen in /etc/xyna/environment auf stdout ausgeben.

___________________
Version: 0.6.1.0

* bugz 10378: Multicast im Geronimo abschalten

___________________
Version: 0.6.0.0

* Maximal 999 parallele Instanzen der Black Edition werden unterstuetzt.
* Neues Skript xyna_install_status.sh in /usr/local/bin wird durch Parameter '-I' installiert.
* Neues Skript uninstall_prerequisites.sh, dass nach einer Sicherheitsabfrage
  die Application Server (geronimo/tomcat) entfernt.
* Projektbezogenen Funktionen nach product_lib.sh ausgelagert.
* Projektuebergreifende Funktionen in func_lib.sh vereinfacht, so dass alle Parameter
  ueber Umgebungsvariablen einstellbar sind.
* Neuer Kommandozeilenparameter '-i', der die Instanznummer oder das Schluessel-
  wort 'NEW' akzeptiert.
* Instanznummer muss zwischen eins und dem Instanzzaehler liegen.
  'NEW' erhoeht den Instanzzaehler.
* Durch Angabe der Nummer koennen Benutzer und Application Server getrennt fuer
  jede Instanz installiert werden.
* Log4j-Konfiguration so angepasst, dass die Instanznummer protokolliert wird.
* Properties in /etc/xyna/environment werden fuer jede Instanz getrennt gespeichert.
* Alte Properties in /etc/xyna/environment entsprechen der Instanznummer eins und
  werden in das neue Format konvertiert.

___________________
Version: 0.5.2.0

* bugz 10298: Speicher der JVM fuer Geronimo in Abhaengigkeit des Hauptspeichers setzen.

___________________
Version: 0.5.1.0

* neue Option -n, dry-run. Vorschau, was die eingegebenen Kommandozeilenparameter tun wuerden.

___________________
Version: 0.5.0.0

* Apache Ant 1.7.1 in die Java-Installation von Solaris aufgenommen.
* In der .bashrc wird die Umgebungsvariable PATH um ANT_HOME/bin erweitert.
* Neues Property ant.folder, welches nur auf Solaris eine Bedeutung hat.

___________________
Version: 0.4.2.0

* XynaUtils-Logging-3.0.0.0 wird fuer Geronimo verwendet.

___________________
Version: 0.4.1.0

* Zum Stoppen des Geronimo wird der NamingPort verwendet.
* In der Log4j-Konfiguration wird ein neuer Appender 'SYSLOG' hinzugefuegt.
* Log-Ausgaben werden zusaetzlich an die Syslog-Facility local2 gesendet.

___________________
Version: 0.4.0.0

* Apache Geronimo 2.2 mit Tomcat 6 in die Installation aufgenommen.
* Neuer Kommandozeilenparameter -g um Geronimo zu installieren.
* Geronimo ist der Default Application Server, Tomcat muss explizit ausgewaehlt werden.
  D.h. bei -a ist Tomcat nicht(!) enthalten.
* Neue Properties, geronimo.user, geronimo.password, geronimo.folder, geronimo.rmi.port
* RMI-Port fuer Geronimo wird auf 1098 gesetzt, so dass keine Konflikte
  mit der Black Edition auf Port 1099 auftreten.
* JAVA_HOME wird in .bashrc eingetragen, der Wert ist betriebssystemabhaengig

___________________
Version: 0.3.0.0

* bugz 9878: Java 6 auf Solaris installieren
* ant wird installiert
* neue Kommandozeilenoptionen -f und -c, so dass alle Komponenten per Option schaltbar sind
  Dadurch kann mit der Option -A eine leere Properties-Datei erzeugt werden.
* Check, dass chown nur ausgefuehrt wird, wenn der User existiert.
* ~/.bash_profile anlegen, so dass ~/.bashrc beim Einloggen ebenfalls gelesen wird
* Tomcat nur starten/stoppen wenn er auch installiert wurde.
* Backup des Tomcat-Ordners nur, wenn er auch installiert wurde.

___________________
Version: 0.2.4.0

* Tomcat nur stoppen und starten, wenn er als Komponente ausgewaehlt wurde. Ebenso fuer die Skripte in /etc/init.d

___________________
Version: 0.2.3.0

* Unprivilegierter User darf xyna.log und tomcat.log lesen

___________________
Version: 0.2.2.0

* bugz 9949: Ausfuehrberechtigung fuer /etc/init.d/xynafactory (chmod 755)
* bugz 9946: Kommentare in .bashrc
* Verzeichnisse mit Kleinbuchstaben
* Option '-l' fuer patch
* .bashrc fuer User xyna dem User zuordnen

___________________
Version: 0.2.1.0

* Eindeutiger Kenner fuer component.properties
* bugz 9657: Vor dem Starten des Tomcat ins richtige Verzeichnis wechseln, damit nicht versehentlich die falschen log4j.properties gezogen werden
* bugz 9848: Syslog so einstellen, dass auf Port 514 Nachrichten angenommen werden
* Bibliotheken fuer Log4J in den Tomcat-Libordner

___________________
Version: 0.1.0.4

* Installationsverzeichnis (${INSTALL_PREFIX}) mit den Berechtigungen fuer den Xyna-User anlegen

___________________
Version: 0.1.0.2

* Zertifikat erst erstellen, wenn Java installiert ist
* tar mit moeglichst wenig Optionen aufrufen, um die Kompatibilitaet mit mehreren Plattformen zu gewaehrleisten

___________________
Version: 0.1.0.1

* bugz 9735: Unprivilegierten User anlegen
* bugz 9734: Java Development Kit installieren
* bugz 9733: Syslog local0 -> /var/log/xyna.log mit Logrotation
* bugz 9732: Tomcat ist Installationsvorausetzung fuer BlackEdition
* bugz 9732: Startskript fuer Tomcat nach /etc/init.d legen
* bugz 9732: Rechte in /etc/init.d korrigiert, Tomcat als Xyna-User starten

#EOF
